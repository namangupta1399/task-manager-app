(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{69:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a(34),c=a.n(r),i=a(19),u=a(4),l=a(7),o=a(8),d=a(10),j=a(9),b=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).checkActiveLink=function(t){if(e.props.history.location.pathname===t)return"active"},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"ui container",children:Object(n.jsxs)("div",{className:"ui secondary  menu",children:[Object(n.jsx)(i.b,{to:"/",className:"item ".concat(this.checkActiveLink("/")),children:"Home"}),Object(n.jsx)(i.b,{to:"/users",className:"item ".concat(this.checkActiveLink("/users")),children:"Users"}),Object(n.jsx)(i.b,{to:"/tasks",className:"item ".concat(this.checkActiveLink("/tasks")),children:"Tasks"}),Object(n.jsx)("div",{className:"right menu",children:Object(n.jsx)("div",{className:"item",children:Object(n.jsx)("div",{className:"ui icon input",children:Object(n.jsxs)("h4",{children:["Developed by ",Object(n.jsx)("a",{href:"https://www.linkedin.com/in/namangupta1399/",target:"_blank",children:"Naman Gupta"})]})})})})]})})}}]),a}(s.Component),h=Object(u.f)(b),p=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h,{}),Object(n.jsx)("div",{className:"ui container",children:this.props.children})]})}}]),a}(s.Component),m=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)(p,{children:Object(n.jsx)("div",{style:{textAlign:"center"},children:Object(n.jsxs)("h1",{class:"ui icon header",children:[Object(n.jsx)("i",{class:"settings icon"}),Object(n.jsxs)("div",{class:"content",children:["Task Manager",Object(n.jsx)("div",{class:"sub header",children:"Manage your tasks and user settings easily."})]})]})})})}}]),a}(s.Component),f=a(18),O=a(2),x=a.n(O),v=a(14),k=a(5),y=a(3),g=a(16),N=a.n(g),w=function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.patch("/api/users/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("/api/users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.firstname,s=e.lastname,r=e.handleChange,c=e.onSubmit,i=e.resetForm;return Object(n.jsxs)("div",{className:"ui segment",children:[Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(n.jsx)("h1",{children:"new"===t?"New User":"Update User"}),Object(n.jsxs)("button",{class:"ui labeled icon button",onClick:i,type:"button",children:[Object(n.jsx)("i",{class:"sync icon"}),"Reset form"]})]}),Object(n.jsxs)("form",{onSubmit:c,className:"ui form",children:[Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"First Name"}),Object(n.jsx)("input",{type:"text",name:"firstname",placeholder:"First Name",value:a,onChange:r})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Last Name"}),Object(n.jsx)("input",{type:"text",name:"lastname",placeholder:"Last Name",value:s,onChange:r})]}),Object(n.jsx)("button",{className:"ui button",type:"submit",children:"Submit"})]})]})}}]),a}(s.Component),_=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={users:[],formType:"new",id:"",firstname:"",lastname:""},e.initialState=Object(y.a)({},e.state),e.onSubmit=function(){var t=Object(k.a)(x.a.mark((function t(a){var n,s,r,c,i,u,l,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,s=n.id,r=n.firstname,c=n.lastname,"new"!==e.state.formType){t.next=16;break}return t.prev=3,t.next=6,S({firstname:r,lastname:c});case 6:i=t.sent,e.setState(Object(y.a)(Object(y.a)({},e.initialState),{},{users:[].concat(Object(v.a)(e.state.users),[i.data])})),alert("User created successfully!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert("Unable to add user.");case 14:t.next=30;break;case 16:return t.prev=16,t.next=19,C(s,{firstname:r,lastname:c});case 19:u=t.sent,l=Object(v.a)(e.state.users),o=l.findIndex((function(e){return e._id===u.data._id})),l[o]=Object(y.a)({},u.data),e.setState(Object(y.a)(Object(y.a)({},e.initialState),{},{users:l})),alert("User updated successfully!"),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(16),alert("Error while updating user");case 30:case"end":return t.stop()}}),t,null,[[3,11],[16,27]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.removeUser=function(){var t=Object(k.a)(x.a.mark((function t(a){var n,s,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(a);case 3:n=t.sent,s=Object(v.a)(e.state.users),r=s.filter((function(e){return e._id!==n.data._id})),e.setState({users:Object(v.a)(r)}),alert("User deleted successfully!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("Error while deleting user!");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.resetForm=function(){e.setState((function(t){return Object(y.a)(Object(y.a)({},e.initialState),{},{users:t.users})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,this.setState({users:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)(p,{children:[Object(n.jsx)(D,{handleChange:this.handleChange,onSubmit:this.onSubmit,firstname:this.state.firstname,lastname:this.state.lastname,type:this.state.formType,resetForm:this.resetForm}),Object(n.jsxs)("div",{className:"ui segment",children:[Object(n.jsx)("h1",{children:"Users"}),Object(n.jsxs)("table",{className:"ui celled table center aligned",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:"First name"}),Object(n.jsx)("th",{children:"Last name"}),Object(n.jsx)("th",{children:"Edit"}),Object(n.jsx)("th",{children:"Delete"})]})}),Object(n.jsx)("tbody",{children:this.state.users.length?this.state.users.map((function(t,a){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:a+1}),Object(n.jsx)("td",{children:t.firstname}),Object(n.jsx)("td",{children:t.lastname}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{className:"ui compact icon yellow button",onClick:function(){return e.setState({formType:"edit",id:t._id,firstname:t.firstname,lastname:t.lastname})},children:Object(n.jsx)("i",{className:"edit icon"})})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{className:"ui compact icon red button",onClick:e.removeUser.bind(e,t._id),children:Object(n.jsx)("i",{className:"trash icon"})})})]},a)})):Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:6,children:Object(n.jsx)("h5",{children:"No users"})})})})]})]})]})}}]),a}(s.Component),Y=a(20),U=a.n(Y),F=function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/api/tasks");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/tasks",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.patch("/api/tasks/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("/api/tasks/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.type,s=e.handleChange,r=e.onSubmit,c=e.resetForm,i=e.task,u=i.taskName,l=i.assignedTo,o=i.dueDate,d=i.completed;return Object(n.jsxs)("form",{onSubmit:r,className:"ui equal width form",children:[Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(n.jsx)("h1",{children:"new"===a?"New Task":"Update Task"}),Object(n.jsxs)("button",{class:"ui labeled icon button",onClick:c,type:"button",children:[Object(n.jsx)("i",{class:"sync icon"}),"Reset form"]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Task Name"}),Object(n.jsx)("input",{type:"text",name:"taskName",value:u,onChange:s})]}),Object(n.jsxs)("div",{className:"fields",children:[Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Assigned to"}),Object(n.jsxs)("select",{name:"assignedTo",onChange:s,children:[Object(n.jsx)("option",{value:"",children:"Select user"}),t.map((function(e){return Object(n.jsx)("option",{selected:l===e._id,value:e._id,children:"".concat(e.firstname," ").concat(e.lastname)},e._id)}))]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Due date"}),Object(n.jsx)("input",{type:"date",name:"dueDate",value:U()(o).format("YYYY-MM-DD"),onChange:s})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Status"}),Object(n.jsxs)("div",{className:"ui checkbox",children:[Object(n.jsx)("input",{id:"completed",name:"completed",type:"checkbox",tabIndex:"0",checked:d,onChange:s}),Object(n.jsx)("label",{htmlFor:"completed",children:"Completed"})]})]}),Object(n.jsx)("button",{className:"ui button",type:"submit",children:"Submit"})]})}}]),a}(s.Component),I=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={formType:"new",users:[],tasks:[],activeTask:{taskName:"",dueDate:U()().format("YYYY-MM-DD"),assignedTo:"",completed:!1},filter:{by:"",value:""}},e.initialState=Object(y.a)({},e.state),e.handleChange=function(t){var a="completed"===t.target.name?t.target.checked:t.target.value;e.setState((function(e){return Object(y.a)(Object(y.a)({},e),{},{activeTask:Object(y.a)(Object(y.a)({},e.activeTask),{},Object(f.a)({},t.target.name,a))})}))},e.onSubmit=function(){var t=Object(k.a)(x.a.mark((function t(a){var n,s,r,c,i,u,l,o,d,j,b;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=Object(y.a)({},e.state.activeTask),s=n._id,r=n.taskName,c=n.assignedTo,i=n.dueDate,u=n.completed,l={taskName:r,assignedTo:c,dueDate:i,completed:u},"new"!==e.state.formType){t.next=17;break}return t.prev=4,t.next=7,M(l);case 7:o=t.sent,e.setState((function(t){return Object(y.a)(Object(y.a)({},e.initialState),{},{users:t.users,tasks:[].concat(Object(v.a)(t.tasks),[o.data])})})),alert("Task created successfully!"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),alert("Error while creating task!");case 15:t.next=31;break;case 17:return t.prev=17,t.next=20,A(s,l);case 20:d=t.sent,j=Object(v.a)(e.state.tasks),b=j.findIndex((function(e){return e._id===d.data._id})),j[b]=Object(y.a)({},d.data),e.setState((function(t){return Object(y.a)(Object(y.a)({},e.initialState),{},{users:t.users,tasks:j})})),alert("Task updated successfully!"),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(17),alert("Error while updating task!");case 31:case"end":return t.stop()}}),t,null,[[4,12],[17,28]])})));return function(e){return t.apply(this,arguments)}}(),e.getUserById=function(t){var a=e.state.users.findIndex((function(e){return e._id===t}));return Object(y.a)({},e.state.users[a])},e.removeTask=function(){var t=Object(k.a)(x.a.mark((function t(a){var n,s,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(a);case 3:n=t.sent,s=Object(v.a)(e.state.tasks),r=s.filter((function(e){return e._id!==n.data._id})),e.setState({tasks:Object(v.a)(r)}),alert("Task removed successfully!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert("Error while removing task!");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.updateTaskStatus=function(){var t=Object(k.a)(x.a.mark((function t(a,n,s,r){var c,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(n,{completed:!s});case 2:c=t.sent,(i=Object(v.a)(e.state.tasks))[r]=Object(y.a)({},c.data),e.setState({tasks:i});case 6:case"end":return t.stop()}}),t)})));return function(e,a,n,s){return t.apply(this,arguments)}}(),e.resetForm=function(){e.setState((function(t){return Object(y.a)(Object(y.a)({},e.initialState),{},{users:t.users,tasks:t.tasks})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,F();case 5:a=e.sent,this.setState({users:t.data,tasks:a.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.filter,a=[];switch(t.by){case"search":a=this.state.tasks.filter((function(e){return e.taskName.toLowerCase().includes(t.value.toLowerCase())}));break;case"pending/completed":a="pending"===t.value?this.state.tasks.filter((function(e){return!e.completed})):"completed"===t.value?this.state.tasks.filter((function(e){return e.completed})):Object(v.a)(this.state.tasks);break;case"date":a=this.state.tasks.filter((function(e){return U()(e.dueDate).format("YYYY-MM-DD")===t.value}));break;default:a=Object(v.a)(this.state.tasks)}return Object(n.jsxs)(p,{children:[Object(n.jsx)("div",{className:"ui segment",children:Object(n.jsx)(E,{type:this.state.formType,users:this.state.users,task:this.state.activeTask,handleChange:this.handleChange,onSubmit:this.onSubmit,resetForm:this.resetForm})}),Object(n.jsxs)("div",{className:"ui segment",children:[Object(n.jsx)("h1",{children:"Task List"}),Object(n.jsxs)("div",{className:"ui equal width form",children:[Object(n.jsx)("label",{children:"Filter:"}),Object(n.jsxs)("div",{className:"fields",children:[Object(n.jsx)("div",{className:"field",children:Object(n.jsx)("input",{type:"text",className:"filter",onChange:function(t){e.setState({filter:{by:"search",value:t.target.value}})},placeholder:"Search by task name"})}),Object(n.jsx)("div",{className:"field",children:Object(n.jsxs)("select",{className:"filter",onChange:function(t){e.setState({filter:{by:"pending/completed",value:t.target.value}})},children:[Object(n.jsx)("option",{value:"",children:"Pending / Completed"}),Object(n.jsx)("option",{value:"pending",children:"Pending"}),Object(n.jsx)("option",{value:"completed",children:"Completed"})]})}),Object(n.jsx)("div",{className:"field",children:Object(n.jsx)("input",{className:"filter",type:"date",onChange:function(t){e.setState({filter:{by:"date",value:t.target.value}})}})}),Object(n.jsx)("button",{className:"ui button",onClick:function(){document.querySelectorAll(".filter").forEach((function(e){e.value=""})),e.setState({filter:{by:"",value:""}})},children:"Clear"})]})]}),Object(n.jsxs)("table",{className:"ui celled table center aligned",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Task name"}),Object(n.jsx)("th",{children:"Assigned to"}),Object(n.jsx)("th",{children:"Due date"}),Object(n.jsx)("th",{children:"Completed"}),Object(n.jsx)("th",{children:"Edit"}),Object(n.jsx)("th",{children:"Delete"})]})}),Object(n.jsx)("tbody",{children:a.length?a.map((function(t,a){var s=e.getUserById(t.assignedTo);return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{"data-label":"TaskName",children:t.taskName}),Object(n.jsx)("td",{"data-label":"User",children:"".concat(s.firstname," ").concat(s.lastname)}),Object(n.jsx)("td",{"data-label":"Due date",children:U()(t.dueDate).format("DD/MM/YYYY")}),Object(n.jsx)("td",{"data-label":"Completed",children:Object(n.jsx)("input",{type:"checkbox",checked:t.completed,onChange:function(n){return e.updateTaskStatus(n,t._id,t.completed,a)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){e.setState({formType:"edit",activeTask:t})},className:"ui compact icon yellow button",children:Object(n.jsx)("i",{className:"edit icon"})})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{className:"ui compact icon red button",onClick:e.removeTask.bind(e,t._id),children:Object(n.jsx)("i",{className:"trash icon"})})})]},a)})):Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:6,children:Object(n.jsx)("h5",{children:"No tasks"})})})})]})]})]})}}]),a}(s.Component),q=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:"Page not found"})}}]),a}(s.Component),P=function(){return Object(n.jsx)(i.a,{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/",exact:!0,component:m}),Object(n.jsx)(u.a,{path:"/users",component:_}),Object(n.jsx)(u.a,{path:"/tasks",component:I}),Object(n.jsx)(u.a,{component:q})]})})};c.a.render(Object(n.jsx)(P,{}),document.querySelector("#root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.0e7c37ff.chunk.js.map